<%- include('../partials/header') %>

<div class="container-fluid">
    <div class="row">

        <!-- Sidebar -->
        <%- include('../partials/staffNavbar') %>

        <!-- Main Content -->
        <div class="col-md-12 p-4">
            <h1 class="text-center mb-4">Chỉnh Sửa Thông Tin Món Ăn</h1>
            <div class="card">
                <div class="card-body">
                    <form id="editDishForm" action="/staff/update-dish/<%= monAn.MaMon %>" method="POST">
                        <!-- Mã Món Ăn (Không chỉnh sửa) -->
                        <div class="mb-3">
                            <label for="dishId" class="form-label">Mã Món Ăn:</label>
                            <input type="text" class="form-control" id="dishId" value="<%= monAn.MaMon %>" readonly>
                        </div>

                        <!-- Tên Món Ăn -->
                        <div class="mb-3">
                            <label for="dishName" class="form-label">Tên Món Ăn:</label>
                            <input type="text" class="form-control" id="dishName" name="TENMON" value="<%= monAn.TenMonAn %>" required>
                        </div>

                        <!-- Trạng Thái Phục Vụ -->
                        <div class="mb-3">
                            <label for="dishStatus" class="form-label">Trạng Thái Phục Vụ:</label>
                            <select class="form-select" id="dishStatus" name="TRANGTHAIPHUCVU">
                                <option value="1" <%= monAn.TrangThaiPhucVu === true ? 'selected' : '' %>>Phục vụ</option>
                                <option value="0" <%= monAn.TrangThaiPhucVu === false ? 'selected' : '' %>>Ngừng phục vụ</option>
                            </select>
                        </div>

                        <!-- Giá -->
                        <div class="mb-3">
                            <label for="dishPrice" class="form-label">Giá (VND):</label>
                            <input type="number" class="form-control" id="dishPrice" name="GIA" value="<%= monAn.Gia %>" required>
                        </div>

                        <!-- Phân Mục -->
                        <div class="mb-3">
                            <label for="dishCategory" class="form-label">Phân Mục:</label>
                            <select class="form-select" id="dishCategory" name="MAPHANMUC">
                                <% phanMuc.forEach(phanMuc => { %>
                                    <option value="<%= phanMuc.MAPHANMUC %>" <%= phanMuc.MAPHANMUC === monAn.MAPHANMUC ? 'selected' : '' %>><%= phanMuc.TENPHANMUC %></option>
                                <% }) %>
                            </select>
                        </div>

                        <!-- Nút Hành Động -->
                        <div class="text-end">
                            <button type="submit" class="btn btn-primary">Lưu Thay Đổi</button>
                            <a href="/staff" class="btn btn-secondary">Hủy</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    
</script>

<%- include('../partials/footer') %>
